<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Job Application — Glitzers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Apply for jobs at Glitzers — submit your CV and details for available positions such as Cybersecurity Specialist and UI/UX Designer.">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 2rem;
            background-color: #f4f4f4;
            color: #333;
        }
        /* Skip link for keyboard users */
        .skip-link {
            position: absolute;
            left: -999px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
        .skip-link:focus {
            left: 0;
            top: 0;
            width: auto;
            height: auto;
            padding: 0.5rem 1rem;
            background: #0078d4;
            color: #fff;
            z-index: 1000;
        }

        main {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            font-size: 2rem;
            color: #0078d4;
            margin-bottom: 1rem;
        }

        p {
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }

        label {
            display: block;
            margin: 0.8rem 0 0.3rem;
            font-weight: bold;
        }

        input[type="text"],
        input[type="email"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-bottom: 1rem;
            box-sizing: border-box;
        }

        fieldset {
            border: none;
            padding: 0;
            margin: 1rem 0;
        }

        .checkboxes label {
            display: inline-block;
            margin-right: 1rem;
        }

        button {
            background-color: #0078d4;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
        }

        button:hover {
            background-color: #005fa3;
        }

        .error {
            color: red;
            font-size: 0.9rem;
            margin-top: 1rem;
        }

    </style>
</head>
<body>

<a class="skip-link" href="#main">Skip to main content</a>

<header role="banner" class="site-header" style="background:#0078d4;color:#fff;padding:1rem 2rem;border-radius:6px;margin-bottom:1rem;">
    <div style="max-width:1000px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;">
        <div style="display:flex;align-items:center;gap:12px;">
            <a href="index.html" aria-label="Glitzers home"><img src="Images/Logos.png" alt="Glitzers logo" style="height:56px;width:auto;display:block;border:0;"></a>
            <div>
                <h1 style="margin:0;font-size:1.1rem;">Glitzers</h1>
                <p style="margin:0;font-size:0.9rem;">Technology Provider &amp; Online Security</p>
            </div>
        </div>
        <nav aria-label="Main navigation">
            <ul style="list-style:none;margin:0;padding:0;display:flex;gap:1rem;">
                <li><a href="index.html" style="color:#fff;text-decoration:underline;">Glitzers</a></li>
                <li><a href="Jobs.html" style="color:#fff;text-decoration:underline;">Jobs</a></li>
                <li><a href="Apply.html" style="color:#fff;text-decoration:underline;">Apply</a></li>
                <li><a href="About.html" style="color:#fff;text-decoration:underline;">About</a></li>
            </ul>
        </nav>
    </div>
</header>

<main id="main" tabindex="-1">
    <h1>Job Application</h1>
    <p>Please complete the form to apply for the available position. All fields marked with * are required.</p>

    <form id="applicationForm" method="post" action="https://mercury.swin.edu.au/it000000/formtest.php" enctype="multipart/form-data">
        <label for="jobRef">Job Reference *</label>
        <select id="jobRef" name="jobRef" required>
            <option value="" disabled selected>Select a job...</option>
            <option value="CYB-001">CYB-001 — Cybersecurity Specialist</option>
            <option value="UIX-002">UIX-002 — UI/UX Designer</option>
        </select>

        <label for="firstName">First Name *</label>
        <input id="firstName" name="firstName" type="text" required maxlength="20" placeholder="Your first name">

        <label for="lastName">Last Name *</label>
        <input id="lastName" name="lastName" type="text" required maxlength="20" placeholder="Your last name">

        <label for="dob">Date of Birth *</label>
        <input id="dob" name="dob" type="date" required>

        <fieldset>
            <legend>Gender *</legend>
            <label><input type="radio" name="gender" value="female" required> Female</label>
            <label><input type="radio" name="gender" value="male"> Male</label>
            <label><input type="radio" name="gender" value="other"> Other</label>
        </fieldset>

        <label for="email">Email Address *</label>
        <input id="email" name="email" type="email" required placeholder="Your email address">

        <label for="phone">Phone Number *</label>
        <input id="phone" name="phone" type="text" required pattern="^[0-9 ]{8,12}$" placeholder="Your phone number">

        <label for="street">Street Address *</label>
        <input id="street" name="street" type="text" required maxlength="40" placeholder="Your street address">

        <label for="suburb">Suburb/Town *</label>
        <input id="suburb" name="suburb" type="text" required maxlength="40" placeholder="Suburb or town">

        <label for="state">State *</label>
        <select id="state" name="state" required>
            <option value="" disabled selected>Select state</option>
            <option value="VIC">VIC</option>
            <option value="NSW">NSW</option>
            <option value="QLD">QLD</option>
            <option value="WA">WA</option>
            <option value="SA">SA</option>
            <option value="TAS">TAS</option>
            <option value="ACT">ACT</option>
            <option value="NT">NT</option>
        </select>

        <label for="postcode">Postcode *</label>
        <input id="postcode" name="postcode" type="text" required pattern="^[0-9]{4}$" maxlength="4" placeholder="Your postcode">

        <label for="resume">Resume (PDF only) *</label>
        <input id="resume" name="resume" type="file" accept=".pdf" required>

        <fieldset>
            <legend>Employment Status *</legend>
            <label><input type="radio" name="employmentStatus" value="employed" required> Employed</label>
            <label><input type="radio" name="employmentStatus" value="unemployed"> Unemployed</label>
            <label><input type="radio" name="employmentStatus" value="student"> Student</label>
        </fieldset>

        <fieldset>
            <legend>Technical Skills (select at least one) *</legend>
            <label><input type="checkbox" name="skills" value="html"> HTML / CSS</label>
            <label><input type="checkbox" name="skills" value="javascript"> JavaScript</label>
            <label><input type="checkbox" name="skills" value="node"> Node.js</label>
            <label><input type="checkbox" name="skills" value="python"> Python</label>
            <label><input type="checkbox" name="skills" value="security"> Security / Cybersecurity</label>
        </fieldset>

        <label for="comments">Additional Comments</label>
        <textarea id="comments" name="comments" rows="4" placeholder="Any additional information you'd like to provide..."></textarea>

        <div class="checkboxes">
            <label><input type="checkbox" name="terms" required> I agree to the terms and conditions.</label>
        </div>

    <button type="submit">Apply</button>
    </form>

    <div id="errorMessages" class="error" role="alert" aria-live="assertive" tabindex="-1"></div>
</main>

<script>
    document.getElementById('applicationForm').addEventListener('submit', function(event) {
        event.preventDefault(); // we'll submit programmatically if all checks pass

        const errorMessages = [];
        const form = event.target;

        // Helper: postcode -> likely state mapping (very simple heuristic for AU postcodes)
        function postcodeMatchesState(pc, state) {
            if (!/^[0-9]{4}$/.test(pc)) return false;
            const first = pc.charAt(0);
            // Common Australian postcode leading digits by state (simplified)
            const mapping = {
                'VIC': ['3','8'],
                'NSW': ['1','2'],
                'QLD': ['4','9'],
                'WA' : ['6'],
                'SA' : ['5'],
                'TAS': ['7'],
                'ACT': ['0','2'],
                'NT' : ['0']
            };
            return mapping[state] ? mapping[state].includes(first) : true;
        }

        // Basic required checks (trimmed)
        if (!form.jobRef.value) errorMessages.push('Job reference is required.');
        if (!form.firstName.value.trim()) errorMessages.push('First name is required.');
        if (!form.lastName.value.trim()) errorMessages.push('Last name is required.');
        if (!form.dob.value) errorMessages.push('Date of birth is required.');
        if (!form.gender.value) errorMessages.push('Gender is required.');

        if (!form.email.value.trim() || !/\S+@\S+\.\S+/.test(form.email.value)) errorMessages.push('Valid email address is required.');
        if (!form.phone.value.trim() || !/^[0-9 ]{8,12}$/.test(form.phone.value)) errorMessages.push('Valid phone number is required (8–12 digits/spaces).');

        if (!form.street.value.trim()) errorMessages.push('Street address is required.');
        if (!form.suburb.value.trim()) errorMessages.push('Suburb/Town is required.');
        if (!form.state.value) errorMessages.push('State is required.');
        if (!form.postcode.value.trim() || !/^[0-9]{4}$/.test(form.postcode.value)) errorMessages.push('Valid 4-digit postcode is required.');

        if (!form.resume.files.length) errorMessages.push('Resume (PDF) is required.');

        // Ensure at least one technical skill checkbox is selected
        const skills = Array.from(form.querySelectorAll('input[name="skills"]'));
        const anySkill = skills.some(s => s.checked);
        if (!anySkill) errorMessages.push('Please select at least one technical skill.');

        if (!form.terms.checked) errorMessages.push('You must agree to the terms and conditions.');

        // Postcode -> State plausibility
        if (form.state.value && form.postcode.value && !postcodeMatchesState(form.postcode.value, form.state.value)) {
            errorMessages.push('Postcode does not look consistent with the selected state.');
        }

        const errorDiv = document.getElementById('errorMessages');
        if (errorMessages.length > 0) {
            errorDiv.innerHTML = errorMessages.join('<br>');
            errorDiv.focus();
        } else {
            errorDiv.innerHTML = '';
            // All client-side checks passed; submit to server
            form.submit();
        }
    });
</script>

</body>

</html>
